#debug #gdb

### Ресурсы

1. Проблемы отладки при оптимизации кода: https://www.ibm.com/docs/en/xcafbg/9.0.0?topic=SS3KZ4_9.0.0/com.ibm.xlf111.bg.doc/xlfopg/debuggingoptimizedcode.html

### Связи
[[GDB. Breakpoints]]

### Общее
1. Если отладка производится для приложения, работающего на той же машине, где и собирается, то выполняется обычный запуск GDB.
2. Если отладка производится для другого устройства, то см. [Удаленная отладка](### Удаленная отладка)


### Удаленная отладка

Если речь идет об отладке проекта, собранного для одной системы (target - целевая) на другой (host - исходная машина), то используются два компонента:
- gdbserver - запускается на target, управляет выполнением отлаживаемой программы;
- GDB - запускается на host, передает программу на target, передает команды от пользователя, выводит информацию

**ВАЖНО!** Целевой платформе не нужны исходные коды и отладочные символы, они должны присутствовать только на исходной машине. Можно использовать *strip* с ключами *--strip-all*/*--strip-unneeded*

Последовательность действий:
- Сначала нужно загрузить gdbserver на target, в него загрузить отлаживаемую программу
- Отдельно запустить GDB на host
- Установить соединение между GDB и gdbserver
- GDB нужно указать, где искать отладочные символы и исходные коды
- Если нужно запустить заново, то нужно снова загрузить gdbserver
