#c #struct

# Ссылки:

1. http://grep.cs.msu.ru/givi.olnd.ru/kr2/06.html

# Заметки

Структура — это одна или несколько переменных (возможно, различных типов), которые для удобства
работы с ними сгруппированы под одним именем. Структуры помогают в организации сложных данных
(особенно в больших программах), поскольку позволяют группу связанных между собой переменных
трактовать не как множество отдельных элементов, а как единое целое.

Описание структуры начинается с ключевого слова `struct` и содержит список деклараций,
заключенный в фигурные скобки. За словом `struct` может следовать имя, называемое тегом
(от английского слова tag — ярлык, этикетка. — Примеч. пер.) структуры:

```
struct human
{
    int age;
    char * name;
};
```

Тег дает название структуре данного вида и далее может служить кратким обозначением той части
декларации, которая заключена в фигурные скобки. Перечисленные в структуре переменные называются
членами (member).

Доступ к отдельному члену структуры осуществляется посредством конструкции вида "<имя_структуры>.<член>"

## Структуры и функции

Единственно возможные операции над структурами — это их копирование, присваивание, взятие адреса
с помощью & и осуществление доступа к ее членам. Передача структур функциям в качестве
аргументов и возврат их от функций в виде результата также относятся к операциям копирования и
присваивания. Структуры нельзя сравнивать. Инициализировать структуру можно списком константных
значений ее членов; автоматическую структуру можно инициализировать также присваиванием.

Существует по крайней мере три подхода, как передавать функциям названные объекты: передавать
компоненты по отдельности, передавать всю структуру целиком и передавать указатель на структуру.
Каждый подход имеет свои плюсы и минусы.

1. Функция `_make_human()` принимает значения, возвращает структуру

```
struct human _make_human_v1(char * name, int age) {
    struct human human_;
    human_.name = name;
    human_.age = age;
    return human_;
}
```

Если функции передается большая структура, то, чем копировать ее целиком, эффективнее передать
указатель на нее. Указатели на структуры ничем не отличаются от указателей на обычные
переменные. Декларация

```
struct human *ph;
```

Указатели на структуры используются весьма часто, поэтому для доступа к ее членам была придумана
еще одна, более короткая форма записи, чем `(*p).member`. Если p — указатель на структуру, то "p->член_структуры".
